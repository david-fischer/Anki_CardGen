#:import SettingsRoot screens.SettingsRoot
#:import toast kivymd.toast.toast
SettingsRoot:
    id: settings_root
    orientation: "vertical"
    size_hint: 1,1
    padding: dp(10)
    spacing: dp(10)

    SeparatorWithHeading:
        heading: "Theme"

    MDRaisedButton:
        pos_hint: {"center_x": 0.5}
        text: "Change App Theme"
        on_press: root.theme_dialog.open()

    SeparatorWithHeading:
        heading: "Export"

    StackLayout:
        orientation: "lr-tb"
        spacing: dp(20)
        MDTextField:
            id: export_dir_text_field
            hint_text: "apkg export dir"
            text: app.apkg_export_dir
            size_hint_x: None
            width: self.parent.width - export_dir_icon.width - self.parent.spacing[0]
            on_focus: root.check_dir(self.text)

        MDFloatingActionButton:
            id: export_dir_icon
            icon: "folder"
            on_press:
                app.open_file_manager(
                path=export_dir_text_field.text,
                callback=root.check_dir
                )

        SeparatorWithHeading:
            heading: "Current Template"
